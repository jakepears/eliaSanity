import{a as cr}from"./chunk-5OBTBB5P.js";import{a as ur}from"./chunk-ADM5POMS.js";import{a as ar}from"./chunk-F7PWK3E4.js";import{b,d as fr,g as s,h as u,i as f}from"./chunk-2UCHFSGT.js";var V=b((ce,N)=>{s();f();var w=1/0,A=9007199254740991,br=17976931348623157e292,P=0/0,pr="[object Arguments]",gr="[object Function]",dr="[object GeneratorFunction]",yr="[object String]",mr="[object Symbol]",jr=/^\s+|\s+$/g,hr=/^[-+]0x[0-9a-f]+$/i,Or=/^0b[01]+$/i,Sr=/^0o[0-7]+$/i,Tr=/^(?:0|[1-9]\d*)$/,Ir=parseInt;function Er(r,t){for(var e=-1,n=r?r.length:0,i=Array(n);++e<n;)i[e]=t(r[e],e,r);return i}function xr(r,t,e,n){for(var i=r.length,c=e+(n?1:-1);n?c--:++c<i;)if(t(r[c],c,r))return c;return-1}function wr(r,t,e){if(t!==t)return xr(r,Pr,e);for(var n=e-1,i=r.length;++n<i;)if(r[n]===t)return n;return-1}function Pr(r){return r!==r}function Ar(r,t){for(var e=-1,n=Array(r);++e<r;)n[e]=t(e);return n}function Br(r,t){return Er(t,function(e){return r[e]})}function Nr(r,t){return function(e){return r(t(e))}}var d=Object.prototype,O=d.hasOwnProperty,y=d.toString,Vr=d.propertyIsEnumerable,_r=Nr(Object.keys,Object),Fr=Math.max;function $r(r,t){var e=B(r)||Mr(r)?Ar(r.length,String):[],n=e.length,i=!!n;for(var c in r)(t||O.call(r,c))&&!(i&&(c=="length"||qr(c,n)))&&e.push(c);return e}function Lr(r){if(!Rr(r))return _r(r);var t=[];for(var e in Object(r))O.call(r,e)&&e!="constructor"&&t.push(e);return t}function qr(r,t){return t=t==null?A:t,!!t&&(typeof r=="number"||Tr.test(r))&&r>-1&&r%1==0&&r<t}function Rr(r){var t=r&&r.constructor,e=typeof t=="function"&&t.prototype||d;return r===e}function Hr(r,t,e,n){r=S(r)?r:Wr(r),e=e&&!n?Yr(e):0;var i=r.length;return e<0&&(e=Fr(i+e,0)),Ur(r)?e<=i&&r.indexOf(t,e)>-1:!!i&&wr(r,t,e)>-1}function Mr(r){return Gr(r)&&O.call(r,"callee")&&(!Vr.call(r,"callee")||y.call(r)==pr)}var B=Array.isArray;function S(r){return r!=null&&Cr(r.length)&&!Xr(r)}function Gr(r){return T(r)&&S(r)}function Xr(r){var t=h(r)?y.call(r):"";return t==gr||t==dr}function Cr(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=A}function h(r){var t=typeof r;return!!r&&(t=="object"||t=="function")}function T(r){return!!r&&typeof r=="object"}function Ur(r){return typeof r=="string"||!B(r)&&T(r)&&y.call(r)==yr}function Dr(r){return typeof r=="symbol"||T(r)&&y.call(r)==mr}function Kr(r){if(!r)return r===0?r:0;if(r=kr(r),r===w||r===-w){var t=r<0?-1:1;return t*br}return r===r?r:0}function Yr(r){var t=Kr(r),e=t%1;return t===t?e?t-e:t:0}function kr(r){if(typeof r=="number")return r;if(Dr(r))return P;if(h(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=h(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=r.replace(jr,"");var e=Or.test(r);return e||Sr.test(r)?Ir(r.slice(2),e?2:8):hr.test(r)?P:+r}function Jr(r){return S(r)?$r(r):Lr(r)}function Wr(r){return r?Br(r,Jr(r)):[]}N.exports=Hr});var F=b((be,_)=>{s();f();var zr="[object Boolean]",Qr=Object.prototype,Zr=Qr.toString;function lr(r){return r===!0||r===!1||vr(r)&&Zr.call(r)==zr}function vr(r){return!!r&&typeof r=="object"}_.exports=lr});var H=b((de,R)=>{s();f();var $=1/0,rt=17976931348623157e292,L=0/0,tt="[object Symbol]",et=/^\s+|\s+$/g,nt=/^[-+]0x[0-9a-f]+$/i,it=/^0b[01]+$/i,ot=/^0o[0-7]+$/i,st=parseInt,ft=Object.prototype,ct=ft.toString;function at(r){return typeof r=="number"&&r==gt(r)}function q(r){var t=typeof r;return!!r&&(t=="object"||t=="function")}function ut(r){return!!r&&typeof r=="object"}function bt(r){return typeof r=="symbol"||ut(r)&&ct.call(r)==tt}function pt(r){if(!r)return r===0?r:0;if(r=dt(r),r===$||r===-$){var t=r<0?-1:1;return t*rt}return r===r?r:0}function gt(r){var t=pt(r),e=t%1;return t===t?e?t-e:t:0}function dt(r){if(typeof r=="number")return r;if(bt(r))return L;if(q(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=q(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=r.replace(et,"");var e=it.test(r);return e||ot.test(r)?st(r.slice(2),e?2:8):nt.test(r)?L:+r}R.exports=at});var G=b((je,M)=>{s();f();var yt="[object Number]",mt=Object.prototype,jt=mt.toString;function ht(r){return!!r&&typeof r=="object"}function Ot(r){return typeof r=="number"||ht(r)&&jt.call(r)==yt}M.exports=Ot});var D=b((Se,U)=>{s();f();var St="[object Object]";function Tt(r){var t=!1;if(r!=null&&typeof r.toString!="function")try{t=!!(r+"")}catch(e){}return t}function It(r,t){return function(e){return r(t(e))}}var Et=Function.prototype,X=Object.prototype,C=Et.toString,xt=X.hasOwnProperty,wt=C.call(Object),Pt=X.toString,At=It(Object.getPrototypeOf,Object);function Bt(r){return!!r&&typeof r=="object"}function Nt(r){if(!Bt(r)||Pt.call(r)!=St||Tt(r))return!1;var t=At(r);if(t===null)return!0;var e=xt.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&C.call(e)==wt}U.exports=Nt});var Y=b((Ee,K)=>{s();f();var Vt="[object String]",_t=Object.prototype,Ft=_t.toString,$t=Array.isArray;function Lt(r){return!!r&&typeof r=="object"}function qt(r){return typeof r=="string"||!$t(r)&&Lt(r)&&Ft.call(r)==Vt}K.exports=qt});var Q=b((Pe,z)=>{s();f();var Rt="Expected a function",k=1/0,Ht=17976931348623157e292,J=0/0,Mt="[object Symbol]",Gt=/^\s+|\s+$/g,Xt=/^[-+]0x[0-9a-f]+$/i,Ct=/^0b[01]+$/i,Ut=/^0o[0-7]+$/i,Dt=parseInt,Kt=Object.prototype,Yt=Kt.toString;function kt(r,t){var e;if(typeof t!="function")throw new TypeError(Rt);return r=Zt(r),function(){return--r>0&&(e=t.apply(this,arguments)),r<=1&&(t=void 0),e}}function Jt(r){return kt(2,r)}function W(r){var t=typeof r;return!!r&&(t=="object"||t=="function")}function Wt(r){return!!r&&typeof r=="object"}function zt(r){return typeof r=="symbol"||Wt(r)&&Yt.call(r)==Mt}function Qt(r){if(!r)return r===0?r:0;if(r=lt(r),r===k||r===-k){var t=r<0?-1:1;return t*Ht}return r===r?r:0}function Zt(r){var t=Qt(r),e=t%1;return t===t?e?t-e:t:0}function lt(r){if(typeof r=="number")return r;if(zt(r))return J;if(W(r)){var t=typeof r.valueOf=="function"?r.valueOf():r;r=W(t)?t+"":t}if(typeof r!="string")return r===0?r:+r;r=r.replace(Gt,"");var e=Ct.test(r);return e||Ut.test(r)?Dt(r.slice(2),e?2:8):Xt.test(r)?J:+r}z.exports=Jt});var sr=b((Ne,or)=>{s();f();var Z=ar(),vt=ur(),l=cr(),re=V(),v=F(),rr=H(),I=G(),er=D(),g=Y(),te=Q(),nr=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];vt&&nr.splice(3,0,"PS256","PS384","PS512");var ee={expiresIn:{isValid:function(r){return rr(r)||g(r)&&r},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(r){return rr(r)||g(r)&&r},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(r){return g(r)||Array.isArray(r)},message:'"audience" must be a string or array'},algorithm:{isValid:re.bind(null,nr),message:'"algorithm" must be a valid string enum value'},header:{isValid:er,message:'"header" must be an object'},encoding:{isValid:g,message:'"encoding" must be a string'},issuer:{isValid:g,message:'"issuer" must be a string'},subject:{isValid:g,message:'"subject" must be a string'},jwtid:{isValid:g,message:'"jwtid" must be a string'},noTimestamp:{isValid:v,message:'"noTimestamp" must be a boolean'},keyid:{isValid:g,message:'"keyid" must be a string'},mutatePayload:{isValid:v,message:'"mutatePayload" must be a boolean'}},ne={iat:{isValid:I,message:'"iat" should be a number of seconds'},exp:{isValid:I,message:'"exp" should be a number of seconds'},nbf:{isValid:I,message:'"nbf" should be a number of seconds'}};function ir(r,t,e,n){if(!er(e))throw new Error('Expected "'+n+'" to be a plain object.');Object.keys(e).forEach(function(i){var c=r[i];if(!c){if(!t)throw new Error('"'+i+'" is not allowed in "'+n+'"');return}if(!c.isValid(e[i]))throw new Error(c.message)})}function ie(r){return ir(ee,!1,r,"options")}function oe(r){return ir(ne,!0,r,"payload")}var tr={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},se=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];or.exports=function(r,t,e,n){typeof e=="function"?(n=e,e={}):e=e||{};var i=typeof r=="object"&&!u.isBuffer(r),c=Object.assign({alg:e.algorithm||"HS256",typ:i?"JWT":void 0,kid:e.keyid},e.header);function a(o){if(n)return n(o);throw o}if(!t&&e.algorithm!=="none")return a(new Error("secretOrPrivateKey must have a value"));if(typeof r=="undefined")return a(new Error("payload is required"));if(i){try{oe(r)}catch(o){return a(o)}e.mutatePayload||(r=Object.assign({},r))}else{var E=se.filter(function(o){return typeof e[o]!="undefined"});if(E.length>0)return a(new Error("invalid "+E.join(",")+" option for "+typeof r+" payload"))}if(typeof r.exp!="undefined"&&typeof e.expiresIn!="undefined")return a(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof r.nbf!="undefined"&&typeof e.notBefore!="undefined")return a(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{ie(e)}catch(o){return a(o)}var m=r.iat||Math.floor(Date.now()/1e3);if(e.noTimestamp?delete r.iat:i&&(r.iat=m),typeof e.notBefore!="undefined"){try{r.nbf=Z(e.notBefore,m)}catch(o){return a(o)}if(typeof r.nbf=="undefined")return a(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof e.expiresIn!="undefined"&&typeof r=="object"){try{r.exp=Z(e.expiresIn,m)}catch(o){return a(o)}if(typeof r.exp=="undefined")return a(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(tr).forEach(function(o){var j=tr[o];if(typeof e[o]!="undefined"){if(typeof r[j]!="undefined")return a(new Error('Bad "options.'+o+'" option. The payload already has an "'+j+'" property.'));r[j]=e[o]}});var x=e.encoding||"utf8";if(typeof n=="function")n=n&&te(n),l.createSign({header:c,privateKey:t,payload:r,encoding:x}).once("error",n).once("done",function(o){n(null,o)});else return l.sign({header:c,payload:r,secret:t,encoding:x})}});s();f();var fe=fr(sr(),1);export{fe as a};
//# sourceMappingURL=chunk-OU5HQ47J.js.map
